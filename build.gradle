buildscript {    repositories {        // 1. ä¼˜å…ˆä½¿ç”¨é˜¿é‡Œäº‘é•œï¿½?        maven { url 'https://maven.aliyun.com/repository/public/' }        maven { url 'https://maven.aliyun.com/repository/gradle-plugin' }        // 2. Forge ï¿½?Minecraft å®˜æ–¹ä»“åº“        maven { url 'https://maven.minecraftforge.net' }        // 3. ï¿½?Parchment ä»“åº“ (æ’ä»¶åœ¨è¿™å„¿ä¸‹ï¿½?        maven { url 'https://maven.parchmentmc.org' }    }    dependencies {        // ä¸‹è½½ ForgeGradle        classpath group: 'net.minecraftforge.gradle', name: 'ForgeGradle', version: '6.0.+'        // ï¿½?ä¸‹è½½ Librarian æ’ä»¶ (ç”¨äºè§£æ parchment æ˜ å°„)        classpath 'org.parchmentmc:librarian:1.+'    }}plugins {    id 'eclipse'    id 'idea'    id 'maven-publish'    id 'net.minecraftforge.gradle' version '[6.0,6.2)'    // ï¿½?é‡ç‚¹ï¼šåƒä¸‡ä¸è¦åœ¨è¿™é‡Œï¿½?parchmentï¿½?    // ï¿½?id 'org.parchmentmc.librarian.forgegradle' version '1.+'  <-- åˆ æ‰è¿™è¡Œï¼Œæˆ–è€…ç¡®ä¿è¿™é‡Œæ²¡æœ‰å®ƒ}// ==========================================// âœ… è‡ªåŠ¨ç‰ˆæœ¬å·è¿­ä»£å¼•æ“// ==========================================def versionPropsFile = file('version.properties')def versionProps = new Properties()// 1. å¦‚æœæ²¡æœ‰è®°å½•æ–‡ä»¶ï¼Œå°±æ–°å»ºä¸€ä¸ªï¼Œä» 1 å¼€å§‹if (!versionPropsFile.canRead()) {    versionProps['BUILD_NUMBER'] = '1'    versionProps.store(versionPropsFile.newWriter(), null)}// 2. è¯»å–å½“å‰çš„æ„å»ºå·versionProps.load(new FileInputStream(versionPropsFile))def currentBuildNumber = versionProps['BUILD_NUMBER'].toInteger()// 3. å‘Šè¯‰ç®¡å®¶ï¼šæ¯æ¬¡æ‰§è¡Œç¼–è¯‘å‰ï¼ŒæŠŠæ•°å­— +1 å¹¶ä¿å­˜task incrementBuildNumber {    doLast {        currentBuildNumber++        versionProps['BUILD_NUMBER'] = currentBuildNumber.toString()        versionProps.store(versionPropsFile.newWriter(), null)        println "ğŸš€ ç‰ˆæœ¬å·å·²è‡ªåŠ¨å‡çº§ä¸º: ${currentBuildNumber}"    }}// å¼ºåˆ¶ç»‘å®šï¼šåœ¨å¤„ç† Java ä»£ç å‰ï¼Œå…ˆæ‰§è¡Œæ•°å­—é€’å¢processResources.dependsOn incrementBuildNumbercompileJava.dependsOn incrementBuildNumber// ==========================================// ï¿½?é‡ç‚¹ï¼šåœ¨è¿™é‡Œæ‰‹åŠ¨å¯ç”¨æ’ä»¶apply plugin: 'org.parchmentmc.librarian.forgegradle'apply plugin: 'net.minecraftforge.gradle' // ï¿½?æ”¾åœ¨è¿™é‡Œ applyapply plugin: 'eclipse'apply plugin: 'maven-publish'// ä¸‹é¢æ˜¯ä½ çš„ç‰ˆæœ¬å·é…ç½®ï¼Œä¿æŒä¸ï¿½?..version = '1.0.1'group = 'com.example.examplemod'// ...// âœ¨ ä½ çš„å¤§ç‰ˆæœ¬å· (ä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬)def baseVersion = "1.4.0"// âœ¨ æœ€ç»ˆæ‹¼æ¥ï¼šåŸºç¡€ç‰ˆæœ¬ + è‡ªå¢æ„å»ºå· (ä¾‹å¦‚ 1.0.5)version = "${baseVersion}.${currentBuildNumber}"group = 'com.example.examplemod'base {    archivesName = 'examplemod'}// å¼ºåˆ¶ä½¿ç”¨ Java 17java.toolchain.languageVersion = JavaLanguageVersion.of(17)println "Java: ${System.getProperty 'java.version'}, JVM: ${System.getProperty 'java.vm.version'} (${System.getProperty 'java.vendor'}), Arch: ${System.getProperty 'os.arch'}"minecraft {    // ï¿½?2. ä¾ç„¶ä½¿ç”¨ snapshot (GeckoLib æœ€ï¿½?ï¼Œé…åˆé˜¿é‡Œäº‘ä¸‹è½½    //mappings channel: 'official', version: '1.20.1'    mappings channel: 'parchment', version: '2023.09.03-1.20.1'    copyIdeResources = true    runs {        client {            workingDirectory project.file('run')            property 'forge.logging.markers', 'REGISTRIES'            property 'forge.logging.console.level', 'debug'            // ï¿½?å…³é”®ï¼šç¡®ï¿½?GeckoLib è¿™ç§å¸¦æœ‰ Mixin çš„æ¨¡ç»„èƒ½æ­£å¸¸åŠ è½½            property 'forge.enabledGameTestNamespaces', 'examplemod'            property 'mixin.env.remapRefMap', 'true'            property 'mixin.env.refMapRemappingFile', "${projectDir}/build/createSrgToMcp/output.srg"            mods {                examplemod {                    source sourceSets.main                }            }        }        server {            workingDirectory project.file('run')            property 'forge.logging.markers', 'REGISTRIES'            property 'forge.logging.console.level', 'debug'            mods {                examplemod {                    source sourceSets.main                }            }        }    }}repositories {    // ï¿½?3. é¡¹ç›®ä¾èµ–ä¹ŸåŠ ä¸Šå›½å†…é•œï¿½?    maven { url 'https://maven.aliyun.com/repository/public/' }    maven { url 'https://maven.aliyun.com/repository/central' }    maven { name = 'forge'; url = 'https://maven.minecraftforge.net' }    maven { url 'https://maven.parchmentmc.org' }}dependencies {    // ä½¿ç”¨ç¨³å®šï¿½?Forge    minecraft 'net.minecraftforge:forge:1.20.1-47.1.3'}tasks.withType(JavaCompile).configureEach {    options.encoding = 'UTF-8'}tasks.register('verifyEncodingHealth') {    group = 'verification'    description = 'Fails build if obvious mojibake text is found in critical UI/localization files.'    doLast {        def targets = [                file('src/main/resources/assets/examplemod/lang/en_us.json'),                file('src/main/resources/assets/examplemod/lang/zh_cn.json'),                file('src/main/java/com/example/examplemod/SummonTerminalScreen.java')        ].findAll { it.exists() }        def badPatterns = ['\uFFFD', 'é™', 'é¢', 'æ‚', 'Ãƒ', 'Ã¦']        def failures = []        targets.each { f ->            def txt = f.getText('UTF-8')            badPatterns.each { p ->                if (txt.contains(p)) {                    failures << "${f}: found suspicious sequence '${p}'"                }            }        }        if (!failures.isEmpty()) {            throw new GradleException("Encoding health check failed:\n" + failures.join('\n'))        }    }}// è¿™æ®µä»£ç è´Ÿè´£ï¿½?gradle ä¸­çš„å˜é‡æ³¨å…¥ï¿½?mods.toml ï¿½?tasks.named('processResources', ProcessResources).configure {    var replaceProperties = [            minecraft_version   : "1.20.1",            minecraft_version_range: "[1.20.1, 1.21)",            forge_version       : "47.1.3",            forge_version_range : "[47,)",            loader_version_range: "[47,)",            mod_id              : "examplemod", // ï¿½?ç¡®ä¿è¿™é‡Œå®šä¹‰ï¿½?mod_id            mod_name            : "My Turret Mod",            mod_license         : "MIT",            mod_version         : project.version,            mod_authors         : "YourName",            mod_description     : "Smart Golem mod."    ]    inputs.properties replaceProperties    filesMatching(['META-INF/mods.toml', 'pack.mcmeta']) {        expand replaceProperties    }}tasks.named('processResources').configure {    dependsOn tasks.named('verifyEncodingHealth')}tasks.register('checkZhCnManualLocalization', Exec) {    group = 'verification'    description = 'Verifies zh_cn manual localization is complete and not corrupted.'    commandLine 'python', 'scripts/verify_zh_cn_manual_localization.py'}tasks.register('checkLocalizationSystem', Exec) {    group = 'verification'    description = 'Verifies en_us / zh_cn localization parity, placeholder safety, and style guards.'    commandLine 'python', 'scripts/verify_localization_system.py'}tasks.named('processResources').configure {    dependsOn tasks.named('checkZhCnManualLocalization')    dependsOn tasks.named('checkLocalizationSystem')}