Based on your requirements, I will develop a **standalone Web-based Particle Simulator** within a new `particle-simulator` directory in your project. This tool will use modern web technologies to render 3D particles and generate Minecraft-compatible code.

### **1. Technical Stack**
-   **Framework**: **React 18** (UI Logic) + **Vite** (Build Tool).
-   **3D Engine**: **Three.js** with **@react-three/fiber** (R3F) for declarative 3D scenes.
-   **Performance**: **GLSL Shaders** for GPU-accelerated particle rendering (1000+ particles).
-   **UI Components**: **Tailwind CSS** for layout + **Leva** (or similar) for granular parameter controls.
-   **Language**: **TypeScript** (for type safety and better code structure).

### **2. Project Structure**
I will create a new directory `particle-simulator/` with the following structure:
```
particle-simulator/
├── src/
│   ├── components/         # UI Panels (Sidebar, CodePreview, Header)
│   ├── core/
│   │   ├── ParticleSystem.ts # Main particle logic & simulation loop
│   │   ├── Generator.ts      # .mcfunction code generation logic
│   │   └── Presets.ts        # Official Minecraft particle presets
│   ├── shaders/            # GLSL Vertex/Fragment shaders for particles
│   ├── App.tsx             # Main layout (Split view: Controls | 3D | Code)
│   └── main.tsx            # Entry point
├── public/                 # Assets (Player model, textures)
└── package.json            # Dependencies
```

### **3. Implementation Roadmap**

#### **Phase 1: Foundation & 3D Environment**
-   Initialize the Vite + React + TypeScript project.
-   Set up the 3D scene: Camera controls (OrbitControls), lighting, and grid helper.
-   Import a basic "Steve" player model as a reference scale (using a placeholder geometry initially).

#### **Phase 2: Core Particle System (WebGL)**
-   Implement a `InstancedBufferGeometry` or `Points` system in Three.js to handle high particle counts efficiently.
-   Implement physics simulation: Position, Velocity, Acceleration, Gravity, and Drag.
-   Implement Lifecycle management: Spawn rate, Max age, Fade out.

#### **Phase 3: Parameter Control UI**
-   Build the "Left Panel": Controls for Motion (Speed, Gravity), Spawning (Rate, Shape), and Appearance (Color, Size).
-   Connect UI state to the 3D Particle System in real-time.

#### **Phase 4: Code Generation Module**
-   Implement the logic to translate 3D parameters into Minecraft `particle` commands.
-   Support 1.20.1 syntax (e.g., `particle <name> <x> <y> <z> <xd> <yd> <zd> <speed> <count>`).
-   Create the "Right Panel": Real-time preview of the generated command/.mcfunction.

#### **Phase 5: Presets & Visual Polish**
-   Implement preset loading (e.g., "Flame", "Smoke", "Explosion").
-   Add visual polish (Color gradients, Curves).
-   Final testing against Minecraft 1.20.1 behavior.

### **4. Next Step**
I will begin by initializing the project structure and setting up the basic development environment.
